#summary Getting Started using the JCatapult Database Manager


= Introduction =

The jCatapult Database Manager (*dbmgr* for short) was built to help make managing your databases easier.  It accomplishes this by managing creation, seeding, and patching of your project databases for you.

Currently, the dbmgr is coupled tightly with hibernate and, therefore, should only be used if you're using hibernate as your ORM framework of choice.

= Project Integration =
The dbmgr is integrated into projects via the JCatapult Ant Mysql plugin, which is imported in the project's build.xml file.  JCatapult currently only supports MySQL, however, work is currently being done to provide support for PostgreSQL and others.
== Connectivity ==
The JCatapult dbmgr uses 2 databases for development:
  * Main
  * Test
=== The Main Database ==
The Main database is connected to by the webapp via a JNDI entry in the `deploy/tomcat/main/conf/context.xml` file.  An example entry has been provided below:

{{{
<Resource name="jdbc/test_webapp" auth="Container" type="javax.sql.DataSource"
            initialSize="2" maxActive="15" maxIdle="5" maxWait="10000"
            removeAbandoned="true" removeAbandonedTimeout="180"
            validationQuery="select 1" testOnBorrow="true" testWhileIdle="true"
            timeBetweenEvictionRunsMillis="30000" minEvictableIdleTimeMillis="60000"
            poolPreparedStatements="true" maxOpenPreparedStatements="30"
            username="dev" password="dev" driverClassName="com.mysql.jdbc.Driver"
            url="jdbc:mysql://localhost:3306/test_webapp?relaxAutoCommit=true&amp;characterEncoding=utf8"/>
}}}

== Creating the database ==
Databases are created by executing the following ant target:

{{{
ant create-main-database
}}}

=== Test Database ===

= Warnings =

*NOTE:*  Be aware that sql seed files are case-insensitive on windows and mac and case-sensitive on unix.  This means that if you refer to a table name within sql, you must specify the exact table name that was created in the database in order for proper execution across multiple platforms.